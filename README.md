Implementation of a state machine, using C++ 17.

Based on [this](https://sii.pl/blog/implementing-a-state-machine-in-c17/) great article.
